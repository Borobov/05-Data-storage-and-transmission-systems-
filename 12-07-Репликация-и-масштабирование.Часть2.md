# Домашнее задание к занятию «Репликация и масштабирование. Часть 2»

### Боробов Иван Сергеевич
---

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер;
  
  **Ответ:** В этом подходе выделяется один основной сервер базы данных, который называется Master. На нем происходят все изменения в данных (любые запросы INSERT/UPDATE/DELETE). Slave сервер постоянно копирует все изменения с Master. С приложения на Slave-сервер отправляются запросы чтения данных (запросы SELECT). Таким образом Master-сервер отвечает за изменения данных, а Slave за чтение.  
  Есть отказоустойчивость, увеличивается скорость на чтение данных.  
  
- master-сервер и несколько slave-серверов;
  
  **Ответ:** В это случае еще больше повышвется отказоустойчивать (в сравнении с прошлым вариантом, так как больше "копий" баз данных на slave), повышается скорость чтения данных, так как slave серверов больше и они все могу работать одноврменно, обрабатывая еще больше запросов.
  
- активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD);
  
  **Ответ:** DRBD - это программное обеспечение, которое автоматически реплицирует данные хранения активного узла в соответствующее место хранения резервного узла после изменения данных.Это физическая копия уровня блока данных.
  Если один узел выходит из строя, второй узел может стать активным узлом в кластере высокой доступности, а полученные данные сохраняются локально. Когда первый узел возвращается в оперативный режим, измененные данные второго узла после простоя отражаются к первом узле. В данной схеме, в активном состоянии может находиться только одна нода. Данный метод обеспечивает отказоустойчивость, но не повышение производительности.
      
- SAN-кластер.

  **Ответ:** SAN — Storage Area Network — предназначена для консолидации дискового пространства серверов на специально выделенных дисковых хранилищах. Обеспечивает высокую производительность и отказоустойчивость (обеспечивается средствами СХД). 

---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 

### Ответ:

**Вертикальный шардинг** — это выделение таблицы или группы таблиц на отдельный сервер. Вынес на отдельный сервер таблицу с книгами, так как по моему мнению, данная таблица будет самой большой (в одном магазине может быть очень много книг на полках и ассортимент книгможет отличаться от магазина к магазину), таблицы с пользователями (видимо это покупатели с дисконтными картами) и магазины будут имень меньше данных, поэтому я решил их оставить на однои сервере.  
**Горизонтальный шардинг** — это разделение одной таблицы на разные сервера. Это необходимо использовать для огромных таблиц, которые не умещаются на одном сервере.  

![v-h](https://github.com/Borobov/05-Data-storage-and-transmission-systems-/blob/c880b3581d276ac23ab1e395941c6134ac8ed191/img-12-07/sharding_scheme_sm.png)
